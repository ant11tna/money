## 基金持仓动态预估工具

根据基金**最新已披露持仓** + 成分实时涨跌，动态预估基金当日涨跌，并支持查看逐笔计算明细。

本版本按你的要求优化：
- 默认内置基金代码：`270042 006479 005698 161128 161130 018993 016452 019455 019454 539001 017091 018043 019172 019547`
- 支持点开每只基金查看计算明细
- 支持修改“当前持有收益(元)”
- 成本价为纯数字输入展示（不含 `%`）
- 持仓抓取优先使用 **AkShare**（若环境已安装），否则自动回退 Eastmoney 接口

## 启动

```bash
python3 fund_dashboard.py
```

打开浏览器访问：`http://localhost:8000`

## 页面使用

1. 在“基金代码”输入框修改代码列表（空格/逗号分隔）
2. 点击“同步基金列表到持仓表”
3. 在持仓表中编辑每只基金：
   - 持有份额
   - 成本价（纯数字）
   - 当前持有收益(元)
4. 点击“抓取最新持仓并预估”
5. 在“计算明细（点开查看）”中展开任意基金查看：成分代码、权重、实时涨跌、贡献

## 计算逻辑

预估涨跌：

`预估涨跌(%) = Σ(持仓权重% × 成分实时涨跌%) / 100`

预估当日盈亏（新增）：

`预估当日盈亏(元) = 持有份额 × 成本价 × 预估涨跌(%) / 100`

## 数据来源说明

- 基金持仓：优先 `akshare.fund_portfolio_hold_em`（若可用）
- 持仓回退：Eastmoney F10 持仓接口
- 实时涨跌：Eastmoney 行情接口

若你本地希望优先启用 AkShare，可安装：

```bash
pip install akshare
```

参考仓库：<https://github.com/ant11tna/akshare>

## 注意

- 本工具是盘中估算，不等同于官方净值。
- 若外部行情接口不可达，会提示失败基金并可重试。
